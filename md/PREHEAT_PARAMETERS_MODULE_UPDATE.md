# 预热参数模块 - 预设模块更新

## 📋 更新概述

将 **预热参数** 从自定义模块示例转移到 **预设模块库**，使其成为系统内置的标准模块。

## 🔧 修改的文件

### frontend/src/constants/wpsModules.ts

**修改内容**：
在 `PRESET_MODULES` 数组中添加预热参数模块

**新增模块定义**：
```typescript
// ==================== 预热参数模块 ====================
{
  id: 'preheat_parameters',
  name: '预热参数',
  description: '预热温度、层间温度等参数',
  icon: 'FireOutlined',
  category: 'basic',
  repeatable: false,
  fields: {
    preheat_temp: {
      label: '预热温度',
      type: 'number',
      unit: '°C',
      min: 0,
    },
    interpass_temp: {
      label: '层间温度',
      type: 'number',
      unit: '°C',
      min: 0,
    },
    max_interpass_temp: {
      label: '最大层间温度',
      type: 'number',
      unit: '°C',
      min: 0,
    },
  },
}
```

## 📊 模块信息

| 属性 | 值 |
|------|-----|
| **模块 ID** | `preheat_parameters` |
| **模块名称** | 预热参数 |
| **描述** | 预热温度、层间温度等参数 |
| **分类** | 基本信息 (basic) |
| **图标** | FireOutlined |
| **可重复** | 否 |
| **字段数** | 3 |

## 🎯 包含的字段

### 1. 预热温度 (preheat_temp)
- **类型**：数字
- **单位**：°C
- **最小值**：0
- **必填**：否

### 2. 层间温度 (interpass_temp)
- **类型**：数字
- **单位**：°C
- **最小值**：0
- **必填**：否

### 3. 最大层间温度 (max_interpass_temp)
- **类型**：数字
- **单位**：°C
- **最小值**：0
- **必填**：否

## 📍 位置

在 `PRESET_MODULES` 数组中的位置：
- **位置**：在热输入模块之前
- **顺序**：第 16 个预设模块（共 16 个）

## 🎨 预设模块列表更新

### 更新前
```
1. 占位符
2. 基本信息
3. 填充金属
4. 电极处理
5. 钨电极
6. 保护气体
7. 背部保护气
8. 等离子气
9. 电流电压
10. 电流脉冲
11. 焊接速度
12. 送丝速度
13. 抖动参数
14. 喷嘴参数
15. 焊接设备
16. 热输入
17. 表头数据
... (更多模块)
```

### 更新后
```
1. 占位符
2. 基本信息
3. 填充金属
4. 电极处理
5. 钨电极
6. 保护气体
7. 背部保护气
8. 等离子气
9. 电流电压
10. 电流脉冲
11. 焊接速度
12. 送丝速度
13. 抖动参数
14. 喷嘴参数
15. 焊接设备
16. 预热参数 ✨ 新增
17. 热输入
18. 表头数据
... (更多模块)
```

## 🚀 使用方式

### 在模块管理页面查看
1. 访问 `/wps/modules`
2. 点击 **预设模块** 标签页
3. 在列表中查看 **预热参数** 模块
4. 点击查看详情

### 在模板构建器中使用
1. 访问 `/wps/templates`
2. 创建或编辑模板
3. 在模块库中找到 **预热参数** 模块
4. 拖拽到模板画布中

### 在 WPS 创建中使用
1. 访问 `/wps/create`
2. 选择模板
3. 如果模板包含预热参数模块，会自动显示相关字段

## 📝 相关文件

- `frontend/src/constants/wpsModules.ts` - 预设模块定义
- `frontend/src/pages/WPS/ModuleManagement.tsx` - 模块管理页面
- `backend/migrations/create_custom_modules_table.sql` - 数据库迁移（包含示例）

## 🔄 后续建议

1. **删除数据库示例**：可以从 `create_custom_modules_table.sql` 中删除预热参数的示例数据
2. **更新文档**：更新相关文档中的模块列表
3. **添加到模板**：考虑将预热参数模块添加到现有的预设模板中

## ✨ 优势

1. **标准化** - 预热参数成为系统标准模块
2. **易用性** - 用户可以直接在模块库中找到
3. **一致性** - 与其他预设模块保持一致
4. **可复用** - 可以在多个模板中使用

## 🧪 测试清单

- [ ] 访问模块管理页面
- [ ] 在预设模块标签页中查看预热参数模块
- [ ] 验证模块信息正确显示
- [ ] 验证模块包含 3 个字段
- [ ] 在模板构建器中使用预热参数模块
- [ ] 验证模块字段在 WPS 创建页面正确显示
- [ ] 验证字段值可以正确保存和加载

