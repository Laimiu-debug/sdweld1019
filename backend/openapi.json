{"openapi":"3.1.0","info":{"title":"Welding System","description":"焊接工艺管理系统API服务 - 开发环境","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"健康检查端点.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"根路径端点.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/login":{"post":{"tags":["认证"],"summary":"Login For Access Token","description":"用户登录获取访问令牌.\n\nArgs:\n    db: 数据库会话\n    form_data: OAuth2密码表单\n\nReturns:\n    JWT令牌信息\n\nRaises:\n    HTTPException: 如果用户名或密码错误","operationId":"login_for_access_token_api_v1_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["认证"],"summary":"Refresh Access Token","description":"使用刷新令牌获取新的访问令牌.\n\nArgs:\n    token_refresh: 刷新令牌请求\n    db: 数据库会话\n\nReturns:\n    新的JWT令牌信息\n\nRaises:\n    HTTPException: 如果刷新令牌无效","operationId":"refresh_access_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefresh"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["认证"],"summary":"Register User","description":"用户注册.\n\nArgs:\n    user_in: 用户创建数据\n    db: 数据库会话\n\nReturns:\n    创建的用户信息\n\nRaises:\n    HTTPException: 如果邮箱已存在","operationId":"register_user_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["认证"],"summary":"Logout User","description":"用户登出.\n\nArgs:\n    current_user: 当前用户信息\n\nReturns:\n    登出成功消息","operationId":"logout_user_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Logout User Api V1 Auth Logout Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/change-password":{"post":{"tags":["认证"],"summary":"Change Password","description":"修改密码.\n\nArgs:\n    current_password: 当前密码\n    new_password: 新密码\n    current_user: 当前用户信息\n    db: 数据库会话\n\nReturns:\n    修改成功消息\n\nRaises:\n    HTTPException: 如果当前密码错误","operationId":"change_password_api_v1_auth_change_password_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"current_password","in":"query","required":true,"schema":{"type":"string","title":"Current Password"}},{"name":"new_password","in":"query","required":true,"schema":{"type":"string","title":"New Password"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Change Password Api V1 Auth Change Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/forgot-password":{"post":{"tags":["认证"],"summary":"Forgot Password","description":"忘记密码.\n\nArgs:\n    email: 用户邮箱\n    db: 数据库会话\n\nReturns:\n    重置邮件发送状态\n\nRaises:\n    HTTPException: 如果邮箱不存在","operationId":"forgot_password_api_v1_auth_forgot_password_post","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Forgot Password Api V1 Auth Forgot Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["认证"],"summary":"Reset Password","description":"重置密码.\n\nArgs:\n    token: 密码重置令牌\n    new_password: 新密码\n    db: 数据库会话\n\nReturns:\n    重置成功消息\n\nRaises:\n    HTTPException: 如果令牌无效","operationId":"reset_password_api_v1_auth_reset_password_post","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}},{"name":"new_password","in":"query","required":true,"schema":{"type":"string","title":"New Password"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Reset Password Api V1 Auth Reset Password Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-email":{"post":{"tags":["认证"],"summary":"Verify Email","description":"验证邮箱.\n\nArgs:\n    token: 邮箱验证令牌\n    db: 数据库会话\n\nReturns:\n    验证成功消息\n\nRaises:\n    HTTPException: 如果令牌无效","operationId":"verify_email_api_v1_auth_verify_email_post","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Verify Email Api V1 Auth Verify Email Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/resend-verification":{"post":{"tags":["认证"],"summary":"Resend Verification Email","description":"重新发送验证邮件.\n\nArgs:\n    email: 用户邮箱\n    db: 数据库会话\n\nReturns:\n    发送状态\n\nRaises:\n    HTTPException: 如果邮箱不存在","operationId":"resend_verification_email_api_v1_auth_resend_verification_post","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Resend Verification Email Api V1 Auth Resend Verification Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"get":{"tags":["用户管理"],"summary":"Read Users","description":"获取用户列表.","operationId":"read_users_api_v1_users__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Read Users Api V1 Users  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["用户管理"],"summary":"Create User","description":"创建用户.","operationId":"create_user_api_v1_users__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["用户管理"],"summary":"Read User Me","description":"获取当前用户信息.","operationId":"read_user_me_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["用户管理"],"summary":"Update User Me","description":"更新当前用户信息.","operationId":"update_user_me_api_v1_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["用户管理"],"summary":"Read User","description":"获取指定用户信息.","operationId":"read_user_api_v1_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["用户管理"],"summary":"Update User","description":"更新指定用户信息.","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/members/":{"get":{"tags":["会员管理"],"summary":"Get Members","description":"获取会员信息.","operationId":"get_members_api_v1_members__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Members Api V1 Members  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/members/upgrade":{"post":{"tags":["会员管理"],"summary":"Upgrade Membership","description":"升级会员等级.","operationId":"upgrade_membership_api_v1_members_upgrade_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tier","in":"query","required":true,"schema":{"type":"string","title":"Tier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Upgrade Membership Api V1 Members Upgrade Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/wps/":{"get":{"tags":["WPS管理"],"summary":"Get Wps List","description":"获取WPS列表.","operationId":"get_wps_list_api_v1_wps__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Wps List Api V1 Wps  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["WPS管理"],"summary":"Create Wps","description":"创建WPS.","operationId":"create_wps_api_v1_wps__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Create Wps Api V1 Wps  Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/pqr/":{"get":{"tags":["PQR管理"],"summary":"Get Pqr List","description":"获取PQR列表.","operationId":"get_pqr_list_api_v1_pqr__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Pqr List Api V1 Pqr  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["PQR管理"],"summary":"Create Pqr","description":"创建PQR.","operationId":"create_pqr_api_v1_pqr__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Create Pqr Api V1 Pqr  Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/reports/":{"get":{"tags":["报表统计"],"summary":"Get Reports","description":"获取报表列表.","operationId":"get_reports_api_v1_reports__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Reports Api V1 Reports  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/reports/statistics":{"get":{"tags":["报表统计"],"summary":"Get Statistics","description":"获取统计数据.","operationId":"get_statistics_api_v1_reports_statistics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Statistics Api V1 Reports Statistics Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/files/upload":{"post":{"tags":["文件管理"],"summary":"Upload File","description":"上传文件.","operationId":"upload_file_api_v1_files_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_v1_files_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Upload File Api V1 Files Upload Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/files/{file_id}":{"get":{"tags":["文件管理"],"summary":"Download File","description":"下载文件.","operationId":"download_file_api_v1_files__file_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Download File Api V1 Files  File Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/system/health":{"get":{"tags":["系统管理"],"summary":"System Health","description":"系统健康检查.","operationId":"system_health_api_v1_system_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response System Health Api V1 System Health Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/system/info":{"get":{"tags":["系统管理"],"summary":"System Info","description":"系统信息.","operationId":"system_info_api_v1_system_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response System Info Api V1 System Info Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"Body_login_for_access_token_api_v1_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_v1_auth_login_post"},"Body_upload_file_api_v1_files_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_file_api_v1_files_upload_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Token":{"properties":{"token_type":{"type":"string","title":"Token Type","default":"bearer"},"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["access_token","refresh_token","expires_in"],"title":"Token","description":"Token response schema."},"TokenRefresh":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"TokenRefresh","description":"Token refresh request schema."},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate","description":"User creation schema."},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"is_superuser":{"type":"boolean","title":"Is Superuser"},"member_tier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Member Tier"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["email","id","is_active","is_verified","is_superuser","created_at","updated_at"],"title":"UserResponse","description":"User response schema."},"UserUpdate":{"properties":{"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"}},"type":"object","title":"UserUpdate","description":"User update schema."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}}}}}