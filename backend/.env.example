# 应用配置
APP_NAME="Welding System Backend"
APP_VERSION="1.0.0"
DEBUG=true
DEVELOPMENT=true

# 数据库配置
DATABASE_URL=postgresql://weld_user:weld_password@localhost:5432/weld_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=weld_db
DATABASE_USER=weld_user
DATABASE_PASSWORD=weld_password

# Redis配置
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# JWT配置
SECRET_KEY=your-super-secret-key-change-this-in-production-very-long-string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS配置
ALLOWED_ORIGINS=["http://localhost:3000", "http://localhost:3001", "https://*.yourdomain.com"]
ALLOWED_CREDENTIALS=true
ALLOWED_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
ALLOWED_HEADERS=["*"]

# 文件存储配置
UPLOAD_DIR=./storage/uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=[".jpg", ".jpeg", ".png", ".pdf", ".doc", ".docx", ".xls", ".xlsx"]

# ========================================
# 邮件服务配置
# ========================================
# 邮件服务提供商选择
# 可选值：smtp, sendgrid, aliyun
EMAIL_PROVIDER=smtp

# ----------------------------------------
# SMTP配置（使用Gmail、QQ邮箱等）
# ----------------------------------------
# Gmail配置步骤：
# 1. 登录Gmail -> 管理您的Google账号 -> 安全性
# 2. 开启"两步验证"
# 3. 生成"应用专用密码"（16位）
# 4. 将生成的密码填入SMTP_PASSWORD
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAILS_FROM_EMAIL=noreply@yourdomain.com
EMAILS_FROM_NAME=焊接工艺管理系统

# ----------------------------------------
# SendGrid配置（可选）
# ----------------------------------------
# 注册地址：https://sendgrid.com/
# 免费额度：100封/天
# SENDGRID_API_KEY=your-sendgrid-api-key

# ----------------------------------------
# 阿里云邮件推送配置（可选）
# ----------------------------------------
# 需要在阿里云控制台开通"邮件推送"服务
# ALIYUN_ACCESS_KEY_ID=your-aliyun-access-key-id
# ALIYUN_ACCESS_KEY_SECRET=your-aliyun-access-key-secret
# ALIYUN_REGION_ID=cn-hangzhou

# ========================================
# 短信服务配置
# ========================================
# 短信服务提供商选择
# 可选值：aliyun, tencent, yunpian
SMS_PROVIDER=aliyun

# ----------------------------------------
# 阿里云短信配置
# ----------------------------------------
# 配置步骤：
# 1. 登录阿里云控制台，开通"短信服务"
# 2. 创建AccessKey（建议使用RAM子账号）
# 3. 申请短信签名（需要企业资质或个人实名认证）
# 4. 申请短信模板（登录、注册、重置密码各一个）
# 5. 将签名名称和模板CODE填入下方配置
ALIYUN_ACCESS_KEY_ID=your-aliyun-access-key-id
ALIYUN_ACCESS_KEY_SECRET=your-aliyun-access-key-secret
ALIYUN_REGION_ID=cn-hangzhou
ALIYUN_SMS_SIGN_NAME=焊接工艺管理系统
SMS_TEMPLATE_LOGIN=SMS_123456789        # 登录验证码模板CODE
SMS_TEMPLATE_REGISTER=SMS_987654321     # 注册验证码模板CODE
SMS_TEMPLATE_RESET_PASSWORD=SMS_456789123  # 重置密码验证码模板CODE

# ----------------------------------------
# 腾讯云短信配置（可选）
# ----------------------------------------
# 注册地址：https://cloud.tencent.com/product/sms
# TENCENT_SECRET_ID=your-tencent-secret-id
# TENCENT_SECRET_KEY=your-tencent-secret-key
# TENCENT_SMS_APP_ID=your-sms-app-id
# TENCENT_SMS_SIGN_NAME=焊接工艺管理系统
# TENCENT_SMS_REGION=ap-guangzhou

# ----------------------------------------
# 云片短信配置（可选）
# ----------------------------------------
# 注册地址：https://www.yunpian.com/
# 注册即送测试短信，适合快速测试
# YUNPIAN_API_KEY=your-yunpian-api-key

# ========================================
# 支付配置
# ========================================

# 支付服务商选择
# 可选值：
#   - mock: 模拟支付（开发测试用）
#   - xunhu: 虎皮椒支付（个人开发者推荐）⭐
#   - pingpp: Ping++聚合支付（企业用户）
PAYMENT_PROVIDER=mock

# ----------------------------------------
# 虎皮椒支付配置（个人开发者推荐）
# ----------------------------------------
# 注册地址：https://www.xunhupay.com/
# 优势：支持个人开发者，无需企业资质
# 费率：2%，到账：T+1
XUNHU_APPID=
XUNHU_APPSECRET=

# ----------------------------------------
# Ping++支付配置（企业用户）
# ----------------------------------------
# 注册地址：https://www.pingxx.com/
# 优势：功能强大，支持多种支付方式
# 费率：0.8-1.2%，要求：需要企业资质
PAYMENT_APP_ID=
PAYMENT_API_KEY=

# ----------------------------------------
# 支付回调配置
# ----------------------------------------
# 支付成功后的异步通知地址（后端接收）
# 开发环境：使用 ngrok 等工具暴露本地服务
# 生产环境：必须是公网可访问的HTTPS地址
PAYMENT_NOTIFY_URL=http://localhost:8000/api/v1/payments/callback

# 支付完成后的前端跳转地址
PAYMENT_RETURN_URL=http://localhost:3000/membership/payment-result

# Celery配置
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER="json"
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE="Asia/Shanghai"

# API配置
API_V1_STR="/api/v1"
PROJECT_NAME="Welding System"
PROJECT_DESCRIPTION="焊接工艺管理系统API服务"

# 安全配置
BCRYPT_ROUNDS=12
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# 监控配置
LOG_LEVEL=INFO
SENTRY_DSN=

# 系统配置
TIMEZONE="Asia/Shanghai"
LOCALE="zh_CN"